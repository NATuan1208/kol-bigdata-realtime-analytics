# ğŸš€ Next Phase Plan - KOL Platform

> **NgÃ y láº­p:** 05/12/2025  
> **Tráº¡ng thÃ¡i hiá»‡n táº¡i:** Redis Cache Layer âœ… COMPLETED  
> **Phase tiáº¿p theo:** API Layer (FastAPI)  
> **Author:** KOL Analytics Team

---

## ğŸ“‹ Má»¥c Lá»¥c

1. [Tá»•ng Quan Tiáº¿n Äá»™](#1-tá»•ng-quan-tiáº¿n-Ä‘á»™)
2. [Phase 1: API Layer (PRIORITY HIGH)](#2-phase-1-api-layer-priority-high)
3. [Phase 2: Gold Layer (OPTIONAL)](#3-phase-2-gold-layer-optional)
4. [Phase 3: Airflow (OPTIONAL)](#4-phase-3-airflow-optional)
5. [Recommended Roadmap](#5-recommended-roadmap)

---

## 1. Tá»•ng Quan Tiáº¿n Äá»™

### 1.1 Completed Components âœ…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COMPLETED COMPONENTS                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  âœ… Infrastructure (100%)                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ Docker containers: Spark, Kafka, Redis, Trino, MinIO, Hive          â”‚
â”‚  â€¢ Network configuration                                               â”‚
â”‚  â€¢ Volume persistence                                                  â”‚
â”‚                                                                         â”‚
â”‚  âœ… Lakehouse Architecture (100%)                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ Bronze Layer: Iceberg tables (TikTok data)                          â”‚
â”‚  â€¢ Silver Layer: Parquet tables (37,486 KOL profiles, 20,028 content)  â”‚
â”‚  â€¢ Gold Layer: Basic dimensions & facts (existing)                     â”‚
â”‚  â€¢ Trino query engine (dual catalog: kol_lake, kol_hive)               â”‚
â”‚                                                                         â”‚
â”‚  âœ… ETL Pipeline (100%)                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ Kafka â†’ Bronze (kafka_to_bronze_tiktok.py)                          â”‚
â”‚  â€¢ Bronze â†’ Silver (tiktok_bronze_to_silver.py)                        â”‚
â”‚  â€¢ Deduplication logic implemented                                     â”‚
â”‚                                                                         â”‚
â”‚  âœ… Hot Path Streaming (100%)                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ Spark Structured Streaming (hot_path_scoring.py)                    â”‚
â”‚  â€¢ ML API integration (/predict/trust)                                 â”‚
â”‚  â€¢ Kafka input/output (kol.profiles.raw â†’ scores.stream)               â”‚
â”‚  â€¢ 58 profiles scored, latency 44-67ms                                 â”‚
â”‚                                                                         â”‚
â”‚  âœ… ML Pipeline (100%)                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ Trust Score model (LightGBM)                                        â”‚
â”‚  â€¢ MLflow model registry                                               â”‚
â”‚  â€¢ Prediction API endpoint                                             â”‚
â”‚                                                                         â”‚
â”‚  âœ… Redis Cache Layer (100%)                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ Cache schema design (config.py)                                     â”‚
â”‚  â€¢ Async client library (client.py)                                    â”‚
â”‚  â€¢ Cache warmer script (cache_warmer.py)                               â”‚
â”‚  â€¢ 1,009 keys cached, 1.54MB memory                                    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 Remaining Components

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    REMAINING PHASES                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Phase    â”‚ Component         â”‚ Priority â”‚ Estimate â”‚ Required for UI  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Phase 1  â”‚ API Layer         â”‚ ğŸ”´ HIGH  â”‚ 2-3h     â”‚ âœ… YES           â”‚
â”‚  Phase 2  â”‚ Gold Layer ETL    â”‚ ğŸŸ¡ MED   â”‚ 2-3h     â”‚ âŒ NO            â”‚
â”‚  Phase 3  â”‚ Airflow           â”‚ ğŸŸ¢ LOW   â”‚ 3-4h     â”‚ âŒ NO            â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Phase 1: API Layer (PRIORITY HIGH)

### 2.1 Má»¥c tiÃªu

Táº¡o REST API endpoints Ä‘á»ƒ UI cÃ³ thá»ƒ consume data tá»« Redis cache vÃ  Lakehouse.

### 2.2 Current State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CURRENT API STATE                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ“ serving/api/                                                         â”‚
â”‚  â”œâ”€â”€ main.py              # FastAPI app (basic skeleton)               â”‚
â”‚  â”œâ”€â”€ routers/                                                          â”‚
â”‚  â”‚   â”œâ”€â”€ kol.py           # GET /kol/{id}/trust (basic)                â”‚
â”‚  â”‚   â”œâ”€â”€ predict.py       # POST /predict/* (ML endpoints)             â”‚
â”‚  â”‚   â””â”€â”€ forecast.py      # Forecast endpoints                         â”‚
â”‚  â””â”€â”€ services/                                                         â”‚
â”‚      â”œâ”€â”€ model_loader.py  # MLflow model loading                       â”‚
â”‚      â””â”€â”€ cassandra_client.py  # Legacy (not used)                      â”‚
â”‚                                                                         â”‚
â”‚  âš ï¸ MISSING:                                                            â”‚
â”‚  â€¢ Redis integration (cache-first pattern)                             â”‚
â”‚  â€¢ KOL listing endpoints                                               â”‚
â”‚  â€¢ Platform statistics endpoints                                       â”‚
â”‚  â€¢ Trending content endpoints                                          â”‚
â”‚  â€¢ Proper response models (Pydantic)                                   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Target Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API ARCHITECTURE                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚  â”‚     UI      â”‚                                                        â”‚
â”‚  â”‚  (Next.js)  â”‚                                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚         â”‚ HTTP/REST                                                     â”‚
â”‚         â–¼                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      FastAPI Server                              â”‚   â”‚
â”‚  â”‚                      (Port 8000)                                 â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚                     ROUTERS                              â”‚   â”‚   â”‚
â”‚  â”‚   â”‚                                                          â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  /api/v1/kols        â†’ KOL profiles, listings           â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  /api/v1/stats       â†’ Platform statistics              â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  /api/v1/trending    â†’ Trending content                 â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  /api/v1/scores      â†’ Trust scores                     â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  /predict/*          â†’ ML predictions (existing)        â”‚   â”‚   â”‚
â”‚  â”‚   â”‚                                                          â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                              â”‚                                   â”‚   â”‚
â”‚  â”‚                              â–¼                                   â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚                    SERVICES                              â”‚   â”‚   â”‚
â”‚  â”‚   â”‚                                                          â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  redis_service.py    â†’ Cache operations                 â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  trino_service.py    â†’ Database queries (fallback)      â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  model_loader.py     â†’ ML model inference               â”‚   â”‚   â”‚
â”‚  â”‚   â”‚                                                          â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚                                       â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚         â”‚                       â”‚                       â”‚              â”‚
â”‚         â–¼                       â–¼                       â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚    Redis    â”‚        â”‚    Trino    â”‚        â”‚   MLflow    â”‚        â”‚
â”‚  â”‚   (Cache)   â”‚        â”‚  (Lakehouse)â”‚        â”‚  (Models)   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.4 API Endpoints Specification

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API ENDPOINTS                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ”µ KOL ENDPOINTS (/api/v1/kols)                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                         â”‚
â”‚  GET /api/v1/kols                                                       â”‚
â”‚  â”œâ”€â”€ Description: List KOL profiles with pagination                    â”‚
â”‚  â”œâ”€â”€ Query Params:                                                     â”‚
â”‚  â”‚   â€¢ platform: string (tiktok|twitter|all)                           â”‚
â”‚  â”‚   â€¢ limit: int (default: 50, max: 100)                              â”‚
â”‚  â”‚   â€¢ offset: int (default: 0)                                        â”‚
â”‚  â”‚   â€¢ sort_by: string (followers|engagement|trust_score)              â”‚
â”‚  â”œâ”€â”€ Response: { data: KOLProfile[], total: int, page: int }           â”‚
â”‚  â””â”€â”€ Cache: Redis â†’ Trino fallback                                     â”‚
â”‚                                                                         â”‚
â”‚  GET /api/v1/kols/top/{platform}                                        â”‚
â”‚  â”œâ”€â”€ Description: Get top KOLs by followers                            â”‚
â”‚  â”œâ”€â”€ Path Params: platform (tiktok|twitter)                            â”‚
â”‚  â”œâ”€â”€ Query Params: limit (default: 100)                                â”‚
â”‚  â”œâ”€â”€ Response: { data: KOLProfile[], platform: string }                â”‚
â”‚  â””â”€â”€ Cache: Redis ZSET (kol:top:followers:{platform}:{limit})          â”‚
â”‚                                                                         â”‚
â”‚  GET /api/v1/kols/{kol_id}                                              â”‚
â”‚  â”œâ”€â”€ Description: Get single KOL profile                               â”‚
â”‚  â”œâ”€â”€ Path Params: kol_id (username)                                    â”‚
â”‚  â”œâ”€â”€ Response: KOLProfile                                              â”‚
â”‚  â””â”€â”€ Cache: Redis HASH (kol:profile:{kol_id})                          â”‚
â”‚                                                                         â”‚
â”‚  GET /api/v1/kols/{kol_id}/scores                                       â”‚
â”‚  â”œâ”€â”€ Description: Get KOL trust/success scores                         â”‚
â”‚  â”œâ”€â”€ Response: { trust_score, trust_label, confidence, ... }           â”‚
â”‚  â””â”€â”€ Cache: Redis HASH (kol:score:{kol_id})                            â”‚
â”‚                                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                         â”‚
â”‚  ğŸŸ¢ STATS ENDPOINTS (/api/v1/stats)                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                         â”‚
â”‚  GET /api/v1/stats/platform                                             â”‚
â”‚  â”œâ”€â”€ Description: Get platform-wide statistics                         â”‚
â”‚  â”œâ”€â”€ Response: { total_kols, total_content, kols_by_platform, ... }    â”‚
â”‚  â””â”€â”€ Cache: Redis HASH (stats:platform)                                â”‚
â”‚                                                                         â”‚
â”‚  GET /api/v1/stats/summary                                              â”‚
â”‚  â”œâ”€â”€ Description: Dashboard summary metrics                            â”‚
â”‚  â”œâ”€â”€ Response: { total_kols, avg_trust_score, top_platforms, ... }     â”‚
â”‚  â””â”€â”€ Cache: Computed from Redis                                        â”‚
â”‚                                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                         â”‚
â”‚  ğŸŸ¡ TRENDING ENDPOINTS (/api/v1/trending)                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                         â”‚
â”‚  GET /api/v1/trending/{platform}                                        â”‚
â”‚  â”œâ”€â”€ Description: Get trending content                                 â”‚
â”‚  â”œâ”€â”€ Path Params: platform (tiktok|youtube)                            â”‚
â”‚  â”œâ”€â”€ Query Params: limit (default: 50)                                 â”‚
â”‚  â”œâ”€â”€ Response: { data: Content[], platform: string }                   â”‚
â”‚  â””â”€â”€ Cache: Redis ZSET (content:trending:{platform}:{limit})           â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.5 Response Models (Pydantic)

```python
# serving/api/models/schemas.py

from pydantic import BaseModel
from typing import Optional, List
from datetime import datetime

class KOLProfile(BaseModel):
    kol_id: str
    platform: str
    username: str
    display_name: Optional[str]
    bio: Optional[str]
    followers_count: int
    following_count: int
    post_count: int
    verified: bool
    profile_url: Optional[str]
    
class KOLScore(BaseModel):
    kol_id: str
    trust_score: Optional[float]
    trust_label: str  # low, medium, high
    confidence: float
    model_version: str
    scored_at: datetime

class PlatformStats(BaseModel):
    total_kols: int
    total_content: int
    kols_tiktok: int
    kols_twitter: int
    content_tiktok: int
    content_youtube: int
    last_updated: datetime

class TrendingContent(BaseModel):
    content_id: str
    kol_id: str
    platform: str
    title: Optional[str]
    views: int
    likes: int
    comments: int
    trending_score: float

class PaginatedResponse(BaseModel):
    data: List
    total: int
    page: int
    page_size: int
    has_next: bool
```

### 2.6 Implementation Tasks

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    IMPLEMENTATION CHECKLIST                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ“ FILES TO CREATE/MODIFY:                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                         â”‚
â”‚  1ï¸âƒ£  serving/api/models/                                                â”‚
â”‚      â–¡ schemas.py          # Pydantic response models                  â”‚
â”‚      â–¡ __init__.py                                                     â”‚
â”‚                                                                         â”‚
â”‚  2ï¸âƒ£  serving/api/services/                                              â”‚
â”‚      â–¡ redis_service.py    # Redis cache operations                    â”‚
â”‚      â–¡ trino_service.py    # Trino query fallback                      â”‚
â”‚      â˜‘ model_loader.py     # Existing (keep)                           â”‚
â”‚                                                                         â”‚
â”‚  3ï¸âƒ£  serving/api/routers/                                               â”‚
â”‚      â–¡ kols.py             # /api/v1/kols/* endpoints                  â”‚
â”‚      â–¡ stats.py            # /api/v1/stats/* endpoints                 â”‚
â”‚      â–¡ trending.py         # /api/v1/trending/* endpoints              â”‚
â”‚      â˜‘ predict.py          # Existing (keep)                           â”‚
â”‚                                                                         â”‚
â”‚  4ï¸âƒ£  serving/api/                                                       â”‚
â”‚      â–¡ main.py             # Update to include new routers             â”‚
â”‚      â–¡ config.py           # API configuration                         â”‚
â”‚      â–¡ dependencies.py     # FastAPI dependencies (Redis, Trino)       â”‚
â”‚                                                                         â”‚
â”‚  5ï¸âƒ£  requirements/                                                      â”‚
â”‚      â–¡ api.txt             # Update dependencies                       â”‚
â”‚                                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“‹ TASK BREAKDOWN:                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                         â”‚
â”‚  Task 1: Setup & Models (30 min)                                       â”‚
â”‚  â”œâ”€â”€ Create schemas.py with Pydantic models                            â”‚
â”‚  â”œâ”€â”€ Create config.py for API settings                                 â”‚
â”‚  â””â”€â”€ Update requirements/api.txt                                       â”‚
â”‚                                                                         â”‚
â”‚  Task 2: Services Layer (45 min)                                       â”‚
â”‚  â”œâ”€â”€ Create redis_service.py (reuse serving/cache/client.py)          â”‚
â”‚  â”œâ”€â”€ Create trino_service.py for database fallback                     â”‚
â”‚  â””â”€â”€ Create dependencies.py for FastAPI DI                             â”‚
â”‚                                                                         â”‚
â”‚  Task 3: KOL Endpoints (45 min)                                        â”‚
â”‚  â”œâ”€â”€ GET /api/v1/kols (list with pagination)                           â”‚
â”‚  â”œâ”€â”€ GET /api/v1/kols/top/{platform}                                   â”‚
â”‚  â”œâ”€â”€ GET /api/v1/kols/{kol_id}                                         â”‚
â”‚  â””â”€â”€ GET /api/v1/kols/{kol_id}/scores                                  â”‚
â”‚                                                                         â”‚
â”‚  Task 4: Stats & Trending Endpoints (30 min)                           â”‚
â”‚  â”œâ”€â”€ GET /api/v1/stats/platform                                        â”‚
â”‚  â”œâ”€â”€ GET /api/v1/stats/summary                                         â”‚
â”‚  â””â”€â”€ GET /api/v1/trending/{platform}                                   â”‚
â”‚                                                                         â”‚
â”‚  Task 5: Integration & Testing (30 min)                                â”‚
â”‚  â”œâ”€â”€ Update main.py with new routers                                   â”‚
â”‚  â”œâ”€â”€ Test endpoints with curl/httpie                                   â”‚
â”‚  â””â”€â”€ Document API in OpenAPI/Swagger                                   â”‚
â”‚                                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  TOTAL ESTIMATE: 2.5 - 3 hours                                         â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.7 Cache-First Pattern Implementation

```python
# Example: GET /api/v1/kols/{kol_id}

async def get_kol_profile(kol_id: str, redis: RedisService, trino: TrinoService):
    """
    Cache-first pattern:
    1. Check Redis cache
    2. If miss, query Trino
    3. Cache result for next time
    """
    
    # Step 1: Try Redis first
    cached = await redis.get_kol_profile(kol_id)
    if cached:
        return KOLProfile(**cached)  # Cache HIT
    
    # Step 2: Cache MISS - query Trino
    profile = await trino.get_kol_profile(kol_id)
    if not profile:
        raise HTTPException(404, f"KOL {kol_id} not found")
    
    # Step 3: Cache for next time
    await redis.set_kol_profile(profile)
    
    return KOLProfile(**profile)
```

### 2.8 Docker Deployment

```yaml
# Add to docker-compose.kol.yml

api:
  build:
    context: ../../serving/api
    dockerfile: Dockerfile
  container_name: kol-api
  ports:
    - "8000:8000"
  environment:
    - REDIS_HOST=redis
    - REDIS_PORT=6379
    - TRINO_HOST=sme-trino
    - TRINO_PORT=8080
    - MLFLOW_TRACKING_URI=http://kol-mlflow:5000
  depends_on:
    - redis
    - sme-trino
  networks:
    - kol-network
```

---

## 3. Phase 2: Gold Layer (OPTIONAL)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GOLD LAYER - OPTIONAL                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ“Š CURRENT STATE:                                                       â”‚
â”‚  â€¢ dim_kol, dim_platform, fact_kol_performance exist                   â”‚
â”‚  â€¢ ml_trust_training exists                                            â”‚
â”‚  â€¢ Basic Gold layer is SUFFICIENT for demo                             â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“ NICE-TO-HAVE (if time permits):                                     â”‚
â”‚  â€¢ gold_kol_rankings - Daily top KOLs snapshot                         â”‚
â”‚  â€¢ gold_content_trending - Hourly trending aggregation                 â”‚
â”‚  â€¢ gold_platform_metrics - Platform KPIs over time                     â”‚
â”‚                                                                         â”‚
â”‚  â±ï¸  Estimate: 2-3 hours                                                â”‚
â”‚  ğŸ¯ Recommendation: SKIP for MVP, add later if needed                  â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Phase 3: Airflow (OPTIONAL)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AIRFLOW - OPTIONAL                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ“Š CURRENT STATE:                                                       â”‚
â”‚  â€¢ All jobs run manually (spark-submit, python scripts)                â”‚
â”‚  â€¢ This is FINE for demo purposes                                      â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“ WOULD PROVIDE:                                                       â”‚
â”‚  â€¢ Scheduled ETL (Bronzeâ†’Silverâ†’Gold daily)                            â”‚
â”‚  â€¢ Scheduled cache warming (every 15 min)                              â”‚
â”‚  â€¢ Job monitoring and alerting                                         â”‚
â”‚  â€¢ Dependency management between jobs                                  â”‚
â”‚                                                                         â”‚
â”‚  â±ï¸  Estimate: 3-4 hours                                                â”‚
â”‚  ğŸ¯ Recommendation: SKIP for demo, only needed for production          â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“‹ DAGs (if implemented):                                              â”‚
â”‚  â€¢ dag_etl_daily.py - Bronzeâ†’Silverâ†’Gold                               â”‚
â”‚  â€¢ dag_cache_warm.py - Redis cache refresh                             â”‚
â”‚  â€¢ dag_ml_retrain.py - Weekly model retraining                         â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Recommended Roadmap

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RECOMMENDED EXECUTION ORDER                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ”´ MUST DO: Phase 1 - API Layer                                â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚  Time: 2-3 hours                                               â”‚    â”‚
â”‚  â”‚  Blocker for: UI Development                                   â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚  Deliverables:                                                 â”‚    â”‚
â”‚  â”‚  â€¢ GET /api/v1/kols (list, pagination)                         â”‚    â”‚
â”‚  â”‚  â€¢ GET /api/v1/kols/{kol_id} (profile)                         â”‚    â”‚
â”‚  â”‚  â€¢ GET /api/v1/kols/top/{platform} (rankings)                  â”‚    â”‚
â”‚  â”‚  â€¢ GET /api/v1/stats/platform (statistics)                     â”‚    â”‚
â”‚  â”‚  â€¢ Redis cache integration                                     â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                                          â”‚
â”‚                              â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸŸ¢ THEN: UI Development                                        â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚  Time: TBD                                                     â”‚    â”‚
â”‚  â”‚  Prerequisites: API Layer complete                             â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                                          â”‚
â”‚                              â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸŸ¡ OPTIONAL: Phase 2 & 3 (Gold Layer, Airflow)                 â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚  Time: 5-7 hours (if needed)                                   â”‚    â”‚
â”‚  â”‚  When: After UI is functional, if time permits                 â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“… TIMELINE ESTIMATE:                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Day 1: API Layer (2-3h)                                               â”‚
â”‚  Day 2-3: UI Development                                               â”‚
â”‚  Day 4+: Polish, Gold Layer, Airflow (optional)                        â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Quick Start Commands

```bash
# 1. Start all services
cd dwh/infra
docker-compose -f docker-compose.kol.yml up -d

# 2. Warm Redis cache (required before API works)
cd ../..
python scripts/cache_warmer.py --full --trino-port 8081

# 3. Start API server (after Phase 1 complete)
cd serving/api
uvicorn main:app --host 0.0.0.0 --port 8000 --reload

# 4. Test endpoints
curl http://localhost:8000/api/v1/kols?platform=tiktok&limit=10
curl http://localhost:8000/api/v1/stats/platform
```

---

*Document Version: 1.0 | Created: 2025-12-05 | Author: KOL Analytics Team*
